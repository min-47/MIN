<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		  <form action="" method="post">
		  	你爱好的运动是：<input type="checkbox" id = "checkAllBox">全选/不选
		  	 <br>
			 <input type="checkbox" name = "items" value ="足球">/足球
			 <input type="checkbox" name = "items" value ="篮球" >/篮球
			 <input type="checkbox" name = "items" value = "羽毛球">/羽毛球
			 <input type="checkbox" name = "items" value ="乒乓球" >/乒乓球
			 <br>
			 <input type="button" id = "checkAllBtn" value ="全选">
			 <input type="button" id = "checkedNoBtn" value = "全不选">
			 <input type="button" id = "checkedRevBtn" value = "反选">
			 <input type="button" id = "sendBtn" value = "提交">
		  </form>
		 
	</body>
	<script type="text/javascript">
		var items = document.getElementsByName("items");
		//获取全选、全不选
		var checkAllBox = document.getElementById("checkAllBox");
		//全选
		var checkAllBtn = document.getElementById("checkAllBtn");
		checkAllBtn.onclick  = function(){
			var items = document.getElementsByName("items");
			//先遍历
			for(var i= 0 ;i<items.length;i++){
			//设置四个多选框变成选中状态
			items[i].checked = true;
			}	
			checkAllBox.checked = true;		
		}
		//全不选
		var checkedNoBtn = document.getElementById("checkedNoBtn");
		checkedNoBtn.onclick = function(){
			var items = document.getElementsByName("items");
			for(var i= 0 ;i<items.length;i++){
			//设置四个多选框变成全不选中状态
			items[i].checked = false;
			}	
			checkAllBox.checked = false;	
		};
		
		//反选按钮
		var checkedRevBtn = document.getElementById("checkedRevBtn");
		//将checkAllBox设置为选中状态
		checkAllBox.checked = true;
		checkedRevBtn.onclick = function(){
			var items = document.getElementsByName("items");
			for(var i= 0 ;i<items.length;i++){
			
			 //判断多选框的状态
			/* if(items[i].checked){
				items[i].checked = false
				}else{
				 items[i].checked = true;
				}
			 */
			
			items[i].checked = !items[i].checked ;
			/**
			 * 在反选时，也需要判断是否需要全选全不选框
			 */
			if(! items[i].checked){
				//一旦进入判断，则证明不是全选
				checkAllBox.checked = false;
				
				}
			}
			
			
		};
		 
		
		
		
		//提交： 将所有选中的value属性弹出
		var sendBtn = document.getElementById("sendBtn");
		sendBtn.onclick = function(){
			for(var i= 0 ;i<items.length;i++){
				//判断
				if(items[i].checked){
					alert(items[i].value);

				}
			}	
		}
		
		//全选、全不选
		
		checkAllBox.onclick = function(){
			/**
			 * 在事件响应函数中，响应函数给谁绑定的，this就是谁
			 */
			for(var i= 0 ;i<items.length;i++){
			//设置四个多选框变成全不选中状态
			//items[i].checked = checkAllBox.checked;
			 items[i].checked = this.checked;
			}					
		}
		
		/**
		 * 如果四个多选框全都选中，则checkAllBox也应该被选中
		 * 如果四个多选框没都选中，则checkAllBox也不应该被选中
		 */
		//为四个多选框绑定单击响应函数
		for(var i= 0 ;i<items.length;i++){
			items[i].onclick = function(){
				
				//将checkAllBox设置为选中状态
				checkAllBox.checked = true;
				for(var j= 0 ;j<items.length;j++){
				//只要有一个没选中就不是全选
				if(! items[j].checked){
					//一旦进入判断，则证明不是全选
					checkAllBox.checked = false;
					//一旦进入判断，就得出结果，不用继续执行
					break;
					}
				}
			}
			
		}
		
	</script>
</html>
