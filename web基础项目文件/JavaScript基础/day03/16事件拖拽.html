<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			#box1{
				width: 300px;
				height: 300px;
				background-color: #00FFFF;
				position: absolute;
			}
			
			#box2{
				width: 300px;
				height: 300px;
				background-color: #FF0000;
				position: absolute;
				left:300px;
			}
		</style>
	</head>
	<body>
		我是一段文字
		<div id="box1">
			
		</div>
		
		<div id="box2">
			
		</div>
	</body>
	<script type="text/javascript">
		/**
		 * 拖拽box1 元素
		 * - 拖拽的流程
		  *   1. 当鼠标在拖拽元素上按下时，开始拖拽，onmousedown
		  *   2. 当鼠标移动时被拖拽元素跟随鼠标元素移动时 onmousemove
		  *   3. 当鼠标松开时，被拖拽元素固定在当前位置，onmouseup
		 */
		var box1 = document.getElementById("box1");
		
		box1.onmousedown = function(event){
			
			var ol = event.clientX - box1.offsetLeft;
			var ot = event.clientY - box1.offsetTop;

			
			 document.onmousemove = function(event){
				 //div的偏移量 鼠标.clientX - 元素.offetLeft
				 //div的偏移量 鼠标。clientY - 元素。offsetTop				
				 var left = event.clientX-ol;
				 var top  = event.clientY-ot;
				
				 //修改box1 的位置
				 box1.style.left = left+"px";
				 box1.style.top = top +"px";
	 
			 }
			 document.onmouseup = function(){
				 //取消document的onmousemove事件
				 document.onmousemove = null;
				 //取消document的onmouseup事件
				 document.onmouseup = null;
			 }
			 /**
			  * 当拖拽一个网页中的内容时，浏览器会默认搜索引擎中搜索内容
			  * 此时会导致拖拽功能的异常，这个是浏览器的默认行为
			  * 可以通过return false 解决这个问题
			  */
			 return false;
			}
	</script>
</html>
