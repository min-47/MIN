<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
				}
			#box1{
				width: 100px;
				height: 100px;
				background-color: #008000;
				position: absolute;
			}
			#box{
				width: 50rem;height: 400px;
				border-right: #000000 solid 1px;
				position: absolute;
				}
		</style>
	</head>
	<body>
		<button id="btn1">点击按钮向右移动</button>
		<button id="btn2">点击按钮向左移动</button>
		<div id="box"></div>
		<div id="box1">
			
		</div>
	</body>
	<script type="text/javascript">
		var  btn1 = document.getElementById("btn1");
		//定义一个定时器标识
		var timer;
			btn1.onclick = function(){
/* 								//关闭上一个定时器
								clearInterval(timer);
								//在这定义，关闭上一个定时器不起作用
								 timer = setInterval(function(){
									//取出字符串的合法树枝，便于计算
									 var value = parseInt(getStyle(box1,"left"));
									 var newValue = value + 10;
									 //判断newValue是否大于800
									 if(newValue >800){
										 newValue =800;
									 }
									 box1.style.left = newValue+"px";
									 //当元素移动到800px时使其停止动画
									if(newValue == 800){
										 clearInterval(timer);
										 }
								 //alert(value);
						},100);*/		
				move(box1,800, 10);		
 
			};
		var  btn1 = document.getElementById("btn1");
		var  btn2 = document.getElementById("btn2");
		//定义一个定时器标识 
		//var timer1;
			btn2.onclick = function(){
/* 								//关闭上一个定时器
								clearInterval(timer);
								//在这定义，关闭上一个定时器不起作用
								 timer1 = setInterval(function(){
									//取出字符串的合法树枝，便于计算
									 var value = parseInt(getStyle(box1,"left"));
									 var newValue = value - 10;
									 //判断newValue是否小于0
									 if(newValue <0){
										 newValue =0;
									 }
									 box1.style.left = newValue+"px";
									 //当元素移动到0px时使其停止动画
									if(newValue<=0){
										 clearInterval(timer1);
										 }
								 //alert(value);
						},100);*/	
			move(box1, 0, 10);			
		};
		/**
		 * 定义一个函数 用来获取指定元素的当前样式
		 * 参数 ：
		 * 		obj 要获取样式的元素
		 * 		name 要获取的样式名
		 * 
		 * 在IE浏览器里面没有设置的值为auto
		 */
		function getStyle(obj,name){
			/*
				/**
				 * 需要加上winsow或obj 
				 * 单独使用getComputedStyle是变量，需要去作用域寻找
				 * 变量没找着会报错，属性没找着会返回undfined
			if(window.getComputedStyle){
				//具有getComputedStyle方法
				return getComputedStyle(obj,null)[name];
			}else{
				//不具有
				return obj.currentStyle[name];
			}
			*/
			return window.getComputedStyle?getComputedStyle(obj,null)[name]:obj.currentStyle[name];
			
			
		}
		//创建一个可以执行简单动画函数
		var timer;
		/**
		 * @param {Object} obj    将要执行的动画对象
		 * @param {Object} target 执行动画的目标位置
		 * @param {Object} speed  移动的速度
		 */
		function move(obj,target,speed){
			
			//定义一个定时器标识
			var timer;
				//判断speed的正负
				//向左 speed为正
				//向右 speed为负
				//获取元素当前位置
				var current = parseInt(getStyle(obj,"left"));
				if(current > target){
					speed = -speed;
				}
					//关闭上一个定时器
					clearInterval(timer);
					//在这定义，关闭上一个定时器不起作用
					 timer = setInterval(function(){
						//取出字符串的合法树枝，便于计算
						 var value = parseInt(getStyle(obj,"left"));
						 var newValue = value + speed;
						 //判断newValue是否大于800
						 //向左移动时，需要判断newValue是否小于target
						 //向右移动时，需要判断newValue是否大于target
						 if(speed<0 && newValue<target||speed>0 && newValue>target){
							 newValue = target;
						 }
						 obj.style.left = newValue+"px";
						 //当元素移动到800px时使其停止动画
						if(newValue == target){
							 clearInterval(timer);
							 }
					 //alert(value);
			},100);
			};
		
	</script>
</html>