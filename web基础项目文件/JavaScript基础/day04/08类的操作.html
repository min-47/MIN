<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			.b1{
				width: 100px;
				height: 100px;
				background-color: #008000;
			}
			.b2{
				width: 200px;
				height: 200px;
				background-color: yellow;
			}
		</style>
	</head>
	<body>
		<button  id="btn1">点击按钮改变div样式</button>
		<div id="box" class="b1"></div>
		<!-- <div id="box1" class="b2"></div> -->
	</body>
	<script type="text/javascript">
		var box = document.getElementById("box");
		var btn1 = document.getElementById("btn1");
		
		btn1.onclick = function(){
			/**
			 * 修改box的样式
			 * 
			 * 通过style属性修改元素的样式，每修改一个样式，浏览器需要重新渲染一次页面
			 * 这样的执行性能是比较差，而且这种形式我们需要修改多个样式时，也不太方便
			 */
					//box.style.width = "300px";
			/**
			 * 希望一行代码可以同时多个样式
			 * 修改box的class属性
			 * 
			 * 我们可以通过修改元素的class属性来间接修改样式
			 * 我们只需要修改一次，即可同时修改多个样式
			 * 浏览器只需要重新渲染页面一次，性能比较好
			 * 并且这种方式，可以使表现和行为进一步分离
			 */
			
			//box.className = "b2";
			//同时拥有 b2 b1 的属性 记得空格
			   //box.className += " b2";
			   
			//addClass(box,"b2");
			//hasClass(box,"b2");
			
			//console.log(hasClass(box,"b2"));
			
			//removeClass(box,"b2");
			
			toggleClass(box,"b2");
		}
	
	 /*定义一个函数，用来向一个元素中添加指定的class属性*/
	 /**
	  * @param {Object} obj 要添加class属性的元素
	  * @param {Object} cn 要添加class的值
	  */
	 function addClass(obj,cn){
		 
		 if(!hasClass(box,cn)){
		 	 obj.className +=" "+cn;
		 }
		 
	 };
	 /**
	  * @param {Object} obj 要判断是否添加class属性的元素
	  * @param {Object} cn  要判断是否添加lclass的值
	  * 判断一个元素中是否含有指定的class属性值
	  * 如果有，则返回true 没有则返回false
	  */
	 function hasClass(obj,cn){
		 //判断obj中有没有cn class
		 //创建一个正则表达式 \b单词边界
		 //写死了
		 //var reg = /\bb2\b/;
		 var reg= new RegExp("\\b"+cn+"\\b"); 
		 return reg.test(obj.className);
	 }
	 
	 function removeClass(obj,cn){
		 //创建正则表达式
		  var reg= new RegExp("\\b"+cn+"\\b"); 
		  
		  //删除class
		  obj.className = obj.className.replace(reg,"");
		 
	 }
	 /**
	  * @param {Object} obj 要添加class或删除class属性的元素
	  * @param {Object} cn 要添加class的值
	  * toggleClass 可以用来切换一个类
	  * 如果元素中有该类 则删除
	  * 如果元素没有该类 则添加
	  */
	 function toggleClass(obj,cn){
		 //判断obj中是否含有cn 
		 if(hasClass(box,cn)){
		 	 removeClass(obj,cn);
		 }else{
			 addClass(obj,cn);
		 }
	 }
	</script>
</html>
